<div [attr.data-display]="displayStyle">
  <div class="video-container">
    <div class="video-container__preview" (click)="onToggleModal()">
      <img class="video-container__preview__img" [src]="video.picture" />
    </div>
    <div class="video-container__info">
      <h2 class="video-container__info-title">{{ video.title }}</h2>
      <div class="video-container__info-items">
        <div class="video-container__info-item" *ngIf="video.views">
          <mat-icon class="video-container__info-icon">visibility</mat-icon>
          <span class="video-container__info-text">{{
            video.views | number
          }}</span>
        </div>
        <div class="video-container__info-item">
          <mat-icon class="video-container__info-icon">thumb_up</mat-icon>
          <span class="video-container__info-text">{{
            video.likes | number
          }}</span>
        </div>
        <div class="video-container__info-item" *ngIf="video.date">
          <mat-icon class="video-container__info-icon">calendar_today</mat-icon>
          <span class="video-container__info-text">{{
            video.date | date
          }}</span>
        </div>
      </div>
    </div>

    <div class="video-container__actions">
      <button
        mat-icon-button
        matTooltip="Add video to favorites!"
        class="video-container__actions__btn"
        (click)="onAddToFavourite(video)"
        *ngIf="!video.favourites"
      >
        <mat-icon class="video-container__actions__btn-icon">
          favorite_border
        </mat-icon>
        <mat-icon
          class="video-container__actions__btn-icon"
          *ngIf="video.favourites"
        >
          favorite
        </mat-icon>
      </button>
      <button
        mat-icon-button
        matTooltip="Remove video from favorites!"
        class="video-container__actions__btn"
        (click)="onAddToFavourite(video)"
        *ngIf="video.favourites"
      >
        <mat-icon class="video-container__actions__btn-icon">
          favorite
        </mat-icon>
      </button>
      <button
        mat-icon-button
        matTooltip="Play video"
        class="video-container__actions__btn"
        (click)="onToggleModal()"
      >
        <mat-icon class="video-container__actions__btn-icon">
          play_circle
        </mat-icon>
      </button>
      <button
        mat-icon-button
        class="video-container__actions__btn"
        matTooltip="Delete video from your list"
        (click)="onOpenDialog(video)"
      >
        <mat-icon class="video-container__actions__btn-icon">
          delete_outline
        </mat-icon>
      </button>
    </div>
  </div>
  <div
    class="video-container__modal"
    id="modal"
    *ngIf="isModalActive"
    (click)="onBackdropClick($event)"
  >
    <mat-card class="video-container__modal-card">
      <div class="video-container__modal-card-iframe">
        <iframe
          width="100%"
          height="100%"
          frameborder="0"
          allowfullscreen
          [src]="video.safeSrc"
        ></iframe>
      </div>
      <mat-card-header class="video-container__modal-card__header">
        <mat-card-title>{{ video.title }}</mat-card-title>
      </mat-card-header>
      <mat-card-actions class="video-container__modal-close">
        <button mat-fab color="warn" (click)="onToggleModal()">close</button>
      </mat-card-actions>
    </mat-card>
  </div>
  <mat-divider *ngIf="displayStyle === 'list'"></mat-divider>
</div>
